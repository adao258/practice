<!--
 * @Author: your name
 * @Date: 2021-09-07 19:27:14
 * @LastEditTime: 2021-09-09 19:45:49
 * @LastEditors: Please set LastEditors
 * @Description: In User Settings Edit
 * @FilePath: \notes\study notes\设计模式\设计模式.md
-->

## 设计模式

<!-- ---------------------------- -->

#### 工厂模式

- 目的: 一个类或对象中大都会包含其他对象，这会导致相关的两个类产生依赖，为了消除这种依赖使用工厂模式
- 应用场景: 在写了大量构造函数，调用了大量的 new 的情况下可以使用工厂模式
- 分类:
  1. 简单工厂模式: (静态工厂模式) 用一个工厂对象创建同一类对象类的实例。
  - 优点: 只需要传递正确的参数就能获得所需对象，不需要关心其创建的具体细节
  - 缺点: 在函数内包含了所有对象的创建逻辑和判断逻辑代码，每增加新的构造函数还需要修改判断逻辑代码。
  2. 工厂方法模式:将创建对象的工作推到子类当中去，这样核心类就变成了抽象类。关键是工厂里面的判断 this 是否属于工厂，添加新的逻辑需要在 prototype 里面添加
  3. 抽象工厂模式:工厂模式和工厂方法模式的工作是生产产品，抽离工厂模式的作用是生产工厂的
- 优点:
  1. 创建对象过程可能很复杂，但我们只需要关心创建结果。
  2. 构造函数和创建者分离，符合“开闭原则”。一个调用者想创建一个对象，只要知道其名称就可以了。
  3. 扩展性高，如果想增加一个产品，只要扩展一个工厂类就可以。
- 缺点:

  1. 添加新产品时，需要编写新的具体产品类,一定程度上增加了系统的复杂度
  2. 考虑到系统的可扩展性，需要引入抽象层，在客户端代码中均使用抽象层进行定义，增加了系统的抽象性和理解难度

-
-

#### 单例模式

- 定义: 保证一个类只有一个实例，并提供一个访问它的全局访问点
- 实现: 用一个变量来标志当前是否已经为某个类创建过对象，如果是则在下次获得该类的实例时，直接返回之前创建的对象
- 透明的单例模式:用户从这个类中创建对象的时候，可以像使用其他任何普通类一样
- 用代理实现单例模式:
- js 中的单例模式: 目的是创建一个唯一的变量，但是 js 中全局变量会造成污染，因此可以使用集中方法

  1. 使用命名空间

  ```
  var namespace1 = {
  a: function(){
  alert (1);
  },
  b: function(){
  alert (2);
  }
  };

  ```

  2. 使用闭包封装私有变量

- 惰性单例: 在需要的时候才创建对象实例，意思是在调用的时候才创建而不是页面加载的时候创建
- 通用的惰性单例:
-
-
-
-

#### 代理模式

- 保护代理和虚拟代理
- 虚拟代理实现图片预加载:图片加载慢的时候使用 一张 loading 图片占位，然后用异步方式加载图片，等图片加载好后在把他填充到 img 节点里面
- 单一职责原则:面向对象设计中鼓励将不同的职责分布到细粒度的对象中，Proxy 在原对象的基础上进行了功能的衍生而又不影响原对象，符合松耦合高内聚的设计理念。
- 开放封闭原则: 代理可以随时从程序中去掉，而不用对其他部分的代码进行修改，在实际场景中，随着版本的迭代可能会有多种原因不再需要代理，那么就可以容易的将代理对象换成原对象的调用
- ES6 中的代理 proxy: let proxy = new Proxy(target,handler)
  - 缓存代理:将一些开销很大的方法的运算结果进行缓存，在此调用该函数时若参数一致则直接调用缓存中的结果
  - 验证代理:Proxy 构造函数第二个参数的 set 用法，可以很方便的验证向一个对象传值
  - 实现私有属性：

#### 策略模式

#### 观察者模式

#### 迭代器模式

#### 外观模式

#### 中介者模式

#### 访问者模式

<!-- ---------------------------- -->

#### 桥接模式

#### 命令模式

#### 职责链模式

<!-- ---------------------------- -->

#### 组合模式

#### 门面模式

#### 适配器模式

#### 装饰着模式

#### 享元模式

<!-- ---------------------------- -->

#### 发布-订阅模式

#### 模板方法模式

#### 状态模式

<!-- ---------------------------- -->

-
-
-
-
-
-
-
-
-
-
-
-
-
